<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabeltrainer - Verben & Pr√§fixe</title>
    <style>
        :root {
            /* Farbpalette (Gr√ºnt√∂ne) */
            --primary-color: #2e7d32;       /* Dunkelgr√ºn */
            --secondary-color: #4caf50;     /* Mittelgr√ºn */
            --accent-color: #81c784;        /* Hellgr√ºn */
            --bg-color: #e8f5e9;            /* Sehr helles Gr√ºn f√ºr Hintergrund */
            --text-color: #1b5e20;          /* Sehr dunkles Gr√ºn f√ºr Text */
            --card-bg: #ffffff;
            --shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden; /* Verhindert Scrollen bei Flip-Animationen */
        }

        .app-container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        h1 {
            font-size: 1.8rem;
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .progress-container {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--secondary-color);
            background: white;
            padding: 5px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* --- Karteikarten 3D Flip Styles --- */
        .scene {
            width: 100%;
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Wichtig: Versteckt die R√ºckseite */
            -webkit-backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
            background-color: var(--card-bg);
            border: 2px solid var(--accent-color);
            overflow: hidden;
        }

        .card-face-front {
            /* Vorderseite Standard */
        }

        .card-face-back {
            transform: rotateY(180deg);
            background-color: #f1f8e9; /* Leicht abweichender Hintergrund f√ºr R√ºckseite */
            border-color: var(--secondary-color);
        }

        .card-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            margin-bottom: 15px;
            position: absolute;
            top: 15px;
        }

        .card-text {
            font-size: 2rem;
            font-weight: 500;
            color: #333;
            line-height: 1.4;
            max-width: 100%;
            word-wrap: break-word;
        }

        /* --- Controls --- */
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        button:active {
            transform: scale(0.98);
        }

        .btn-secondary {
            background-color: var(--accent-color);
            color: var(--text-color);
        }

        .shortcuts-hint {
            margin-top: 15px;
            font-size: 0.8rem;
            color: #777;
            text-align: center;
        }

        /* --- Responsive Anpassungen --- */
        @media (max-width: 600px) {
            .scene {
                height: 250px;
            }
            h1 {
                font-size: 1.5rem;
            }
            button {
                padding: 10px 15px;
                font-size: 0.9rem;
                flex-grow: 1; /* Buttons f√ºllen Breite auf Mobile */
            }
            .controls {
                gap: 8px;
            }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <h1>Vokabeltrainer Russisch</h1>
        
        <div class="progress-container">
            <span id="progress-text">1 / 40</span>
        </div>

        <div class="scene" id="card-scene">
            <div class="card" id="card">
                <!-- Vorderseite -->
                <div class="card-face card-face-front">
                    <span class="card-label">Russisch</span>
                    <div class="card-text" id="front-text">Lade Daten...</div>
                </div>
                <!-- R√ºckseite -->
                <div class="card-face card-face-back">
                    <span class="card-label">Deutsch</span>
                    <div class="card-text" id="back-text">...</div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button id="btn-prev" class="btn-secondary">‚Üê Vorherige</button>
            <button id="btn-shuffle">Mischen üîÄ</button>
            <button id="btn-reset">Anfang ‚Ü∫</button>
            <button id="btn-next" class="btn-secondary">N√§chste ‚Üí</button>
        </div>

        <div class="shortcuts-hint">
            Tastatur: Leertaste/Enter (Drehen) | Pfeile (Navigieren) | Pos1 (Anfang)
        </div>
    </div>

    <script>
        // --- Daten ---
        // Die Liste wurde basierend auf der Anfrage in ein Array von Objekten umgewandelt.
        // Die Nummerierung am Anfang wurde entfernt, da die App eine eigene Z√§hlung hat.
        const originalVocabulary = [
            { front: "–¥–∞–≤√°—Ç—å / –¥–∞—Ç—å", back: "geben" },
            { front: "—Å–¥–∞–≤√°—Ç—å / —Å–¥–∞—Ç—å", back: "abgeben; (eine Pr√ºfung) ablegen/bestehen; vermieten" },
            { front: "–ø—Ä–æ–¥–∞–≤√°—Ç—å / –ø—Ä–æ–¥√°—Ç—å", back: "verkaufen" },
            { front: "–æ—Ç–¥–∞–≤√°—Ç—å / –æ—Ç–¥√°—Ç—å", back: "zur√ºckgeben; (Schulden) zur√ºckzahlen; weggeben" },
            { front: "–∑–∞–¥–∞–≤√°—Ç—å / –∑–∞–¥√°—Ç—å (–≤–æ–ø—Ä√≥—Å)", back: "(eine Frage) stellen; aufgeben" },
            { front: "–≤—ã–¥–∞–≤√°—Ç—å / –≤—ãÃÅ–¥–∞—Ç—å", back: "aush√§ndigen; ausgeben (P√§sse, Diplome); verraten" },
            { front: "–ø–µ—Ä–µ–¥–∞–≤√°—Ç—å / –ø–µ—Ä–µ–¥√°—Ç—å", back: "√ºbergeben; weitergeben; (Gr√º√üe) ausrichten" },
            { front: "–ø—Ä–µ–¥–∞–≤√°—Ç—å / –ø—Ä–µ–¥√°—Ç—å", back: "verraten (jemanden); treulos sein" },
            { front: "–ø–æ–¥–∞–≤√°—Ç—å / –ø–æ–¥√°—Ç—å", back: "servieren; reichen; (einen Antrag) einreichen" },
            { front: "—Ä–∞–∑–¥–∞–≤√°—Ç—å / —Ä–∞–∑–¥√°—Ç—å", back: "verteilen; austeilen" },
            { front: "—Å–æ–∑–¥–∞–≤√°—Ç—å / —Å–æ–∑–¥√°—Ç—å", back: "erschaffen; erstellen; verursachen" },
            { front: "—É–∑–Ω–∞–≤√°—Ç—å / —É–∑–Ω√°—Ç—å", back: "erfahren; erkennen" },
            { front: "–≤—Å—Ç–∞–≤√°—Ç—å / –≤—Å—Ç–∞—Ç—å", back: "aufstehen" },
            { front: "—É–¥–∞–≤√°—Ç—å—Å—è / —É–¥√°—Ç—å—Å—è", back: "gelingen" },
            { front: "–ø–æ–¥–¥–∞–≤√°—Ç—å—Å—è / –ø–æ–¥–¥√°—Ç—å—Å—è", back: "nachgeben; erliegen" },
            { front: "–Ω–µ–¥–æ–¥–∞–≤√°—Ç—å / –Ω–µ–¥–æ–¥√°—Ç—å", back: "zu wenig geben" },
            { front: "–ø—Ä–∏–¥–∞–≤√°—Ç—å / –ø—Ä–∏–¥√°—Ç—å (–∑–Ω–∞—á√©–Ω–∏–µ)", back: "(Bedeutung) beimessen" },
            { front: "—ç–∫–∑√°–º–µ–Ω", back: "Pr√ºfung; Examen" },
            { front: "–∫–Ω–∏ÃÅ–≥–∞", back: "Buch" },
            { front: "–≤–æ–ø—Ä√≥—Å", back: "Frage" },
            { front: "–ø—Ä–∏–≤√©—Ç", back: "Gru√ü" },
            { front: "–ø√°—Å–ø–æ—Ä—Ç", back: "Pass" },
            { front: "—Å–µ–∫—Ä√©—Ç", back: "Geheimnis" },
            { front: "–¥—Ä—É–≥", back: "Freund" },
            { front: "—Å–æ–ª—å", back: "Salz" },
            { front: "–º–µ–Ω—éÃÅ", back: "Men√º; Speisekarte" },
            { front: "—Å—É–ø", back: "Suppe" },
            { front: "–¥√©–Ω—å–≥–∏", back: "Geld" },
            { front: "—Å–¥√°—á–∞", back: "Wechselgeld; R√ºckgeld" },
            { front: "–¥–æ–ª–≥", back: "Schuld; Schulden" },
            { front: "–∑–∞—Ä–ø–ª√°—Ç–∞", back: "Gehalt; Lohn" },
            { front: "–æ—Ç—á—ë—Ç", back: "Bericht" },
            { front: "–∑–Ω–∞—á√©–Ω–∏–µ", back: "Bedeutung; Wichtigkeit" },
            { front: "–≤—á–µ—Ä√°", back: "gestern" },
            { front: "—á√°—Å—Ç–æ", back: "oft" },
            { front: "–æ–±—ãÃÅ—á–Ω–æ", back: "gew√∂hnlich; normalerweise" },
            { front: "–Ω–∞–∫o–Ω√©—Ü", back: "endlich; schlie√ülich" },
            { front: "—É—Å–ø√©—à–Ω–æ", back: "erfolgreich" },
            { front: "–≤—Å–µ–≥–¥√°", back: "immer" },
            { front: "–∫√°–∂–¥–æ–µ –ª√©—Ç–æ", back: "jeden Sommer" }
        ];

        // --- Zustand ---
        let currentStack = [...originalVocabulary]; // Kopie f√ºr das aktuelle Spiel (wg. Mischen)
        let currentIndex = 0;
        let isFlipped = false;

        // --- DOM Elemente ---
        const cardElement = document.getElementById('card');
        const frontTextElement = document.getElementById('front-text');
        const backTextElement = document.getElementById('back-text');
        const progressElement = document.getElementById('progress-text');
        const cardScene = document.getElementById('card-scene');

        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const btnShuffle = document.getElementById('btn-shuffle');
        const btnReset = document.getElementById('btn-reset');

        // --- Funktionen ---

        function init() {
            renderCard();
            addEventListeners();
        }

        // Karte anzeigen und Textgr√∂√üe anpassen
        function renderCard() {
            const item = currentStack[currentIndex];
            
            // Text setzen
            frontTextElement.textContent = item.front;
            backTextElement.textContent = item.back;

            // Fortschritt aktualisieren
            progressElement.textContent = `${currentIndex + 1} / ${currentStack.length}`;

            // Karte zur√ºckdrehen, falls sie umgedreht war (ohne Animation f√ºr den Wechsel)
            if (isFlipped) {
                cardElement.style.transition = 'none'; // Animation ausschalten
                cardElement.classList.remove('is-flipped');
                isFlipped = false;
                // Timeout n√∂tig, damit der Browser den Style-Change registriert
                setTimeout(() => {
                    cardElement.style.transition = 'transform 0.6s';
                }, 50);
            }

            // Dynamische Schriftgr√∂√üe anpassen
            adjustFontSize(frontTextElement);
            adjustFontSize(backTextElement);
        }

        // Passt die Schriftgr√∂√üe an, damit langer Text in die Karte passt
        function adjustFontSize(element) {
            let fontSize = 2.5; // Startgr√∂√üe in rem
            element.style.fontSize = fontSize + 'rem';

            // Solange der Text gr√∂√üer ist als der Container, verkleinern
            while (
                (element.scrollHeight > element.parentElement.clientHeight - 40 || 
                 element.scrollWidth > element.parentElement.clientWidth - 20) && 
                fontSize > 0.8
            ) {
                fontSize -= 0.1;
                element.style.fontSize = fontSize + 'rem';
            }
        }

        function flipCard() {
            isFlipped = !isFlipped;
            cardElement.classList.toggle('is-flipped');
        }

        function nextCard() {
            if (currentIndex < currentStack.length - 1) {
                currentIndex++;
                renderCard();
            } else {
                // Optional: Loop zum Anfang
                // currentIndex = 0;
                // renderCard();
                
                // Visuelles Feedback am Ende (kurzes Wackeln)
                cardScene.animate([
                    { transform: 'translateX(0)' },
                    { transform: 'translateX(10px)' },
                    { transform: 'translateX(-10px)' },
                    { transform: 'translateX(0)' }
                ], { duration: 200 });
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
                renderCard();
            } else {
                // Visuelles Feedback am Anfang
                cardScene.animate([
                    { transform: 'translateX(0)' },
                    { transform: 'translateX(-10px)' },
                    { transform: 'translateX(10px)' },
                    { transform: 'translateX(0)' }
                ], { duration: 200 });
            }
        }

        function resetToStart() {
            currentIndex = 0;
            renderCard();
        }

        // Fisher-Yates Shuffle Algorithmus
        function shuffleStack() {
            // Animation andeuten
            cardElement.style.opacity = '0';
            
            setTimeout(() => {
                for (let i = currentStack.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [currentStack[i], currentStack[j]] = [currentStack[j], currentStack[i]];
                }
                currentIndex = 0;
                renderCard();
                cardElement.style.opacity = '1';
            }, 300);
        }

        // --- Event Listeners ---

        function addEventListeners() {
            // Klick/Touch auf Karte
            cardScene.addEventListener('click', flipCard);

            // Buttons
            btnNext.addEventListener('click', (e) => {
                nextCard();
                e.target.blur(); // Fokus entfernen, damit Leertaste nicht den Button dr√ºckt
            });
            btnPrev.addEventListener('click', (e) => {
                prevCard();
                e.target.blur();
            });
            btnReset.addEventListener('click', (e) => {
                // Um wieder die Originalreihenfolge zu haben, k√∂nnten wir hier 
                // currentStack = [...originalVocabulary] setzen.
                // Laut Anforderung soll aber nur "zum Anfang gesprungen" werden (aktueller Stapel).
                resetToStart();
                e.target.blur();
            });
            btnShuffle.addEventListener('click', (e) => {
                shuffleStack();
                e.target.blur();
            });

            // Tastatursteuerung
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case ' ':
                    case 'Enter':
                        e.preventDefault(); // Verhindert Scrollen bei Leertaste
                        flipCard();
                        break;
                    case 'ArrowRight':
                        nextCard();
                        break;
                    case 'ArrowLeft':
                        prevCard();
                        break;
                    case 'Home':
                        resetToStart();
                        break;
                }
            });
        }

        // Starten
        init();

    </script>
</body>
</html>